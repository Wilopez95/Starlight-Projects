{"code":"import React, { forwardRef, useImperativeHandle, useMemo } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport cx from 'classnames';\r\nimport { PdfPlaceholderIcon, PlusIcon } from \"../../assets\";\r\nimport { Loader } from \"../Loader\";\r\nimport styles from \"./css/styles.scss\";\r\nexport const MAX_FILE_SIZE = 10485760;\r\nexport const FileUploadComponent = ({ acceptMimeTypes: accept, loading, previewImage, isPdf, error, className, placeholder, onPreviewOpen, onDropAccepted, onDropRejected, size = 'large', allowMultiple: multiple = false, }, ref) => {\r\n    const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\r\n        maxSize: MAX_FILE_SIZE,\r\n        onDropAccepted,\r\n        onDropRejected,\r\n        accept,\r\n        multiple,\r\n        noClick: loading || isPdf || !!previewImage,\r\n    });\r\n    useImperativeHandle(ref, () => ({\r\n        open,\r\n    }), [open]);\r\n    const style = useMemo(() => {\r\n        if (!previewImage) {\r\n            return undefined;\r\n        }\r\n        return {\r\n            backgroundImage: previewImage.startsWith('blob:')\r\n                ? `url(${previewImage})`\r\n                : `url(${previewImage}?t=${performance.now()})`,\r\n        };\r\n    }, [previewImage]);\r\n    let defaultPlaceholder = null;\r\n    if (loading) {\r\n        defaultPlaceholder = React.createElement(Loader, { className: styles.loader, active: true });\r\n    }\r\n    else if (isPdf) {\r\n        defaultPlaceholder = React.createElement(PdfPlaceholderIcon, { className: styles.placeholder });\r\n    }\r\n    else if (!previewImage) {\r\n        defaultPlaceholder = React.createElement(PlusIcon, { className: styles.placeholder });\r\n    }\r\n    return (React.createElement(\"div\", { ...getRootProps({\r\n            onClick: isPdf || previewImage ? onPreviewOpen : undefined,\r\n            className: cx(styles.fileUpload, className, isDragActive && styles.dragActive, loading && styles.loading, error && styles.error, styles[size]),\r\n            style: loading ? undefined : style,\r\n        }) },\r\n        React.createElement(\"input\", { ...getInputProps({\r\n                disabled: loading,\r\n            }), \"aria-label\": \"upload file\" }),\r\n        placeholder || defaultPlaceholder));\r\n};\r\nexport default forwardRef(FileUploadComponent);\r\n//# sourceMappingURL=FileUpload.js.map","references":["/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/@types/react/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/react-dropzone/typings/react-dropzone.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/classnames/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/assets/index.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/Loader/index.tsx","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/FileUpload/types.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/FileUpload/css/styles.scss.d.ts"],"map":"{\"version\":3,\"file\":\"FileUpload.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/common/FileUpload/FileUpload.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,EAAE,EAAE,UAAU,EAAE,mBAAmB,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AACxE,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,MAAM,YAAY,CAAC;AAE5B,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB;AAC5D,OAAO,EAAE,MAAM,EAAE,kBAAkB;AAInC,OAAO,MAAM,0BAA0B;AAGvC,MAAM,CAAC,MAAM,aAAa,GAAG,QAAU,CAAC;AAExC,MAAM,CAAC,MAAM,mBAAmB,GAAmE,CACjG,EACE,eAAe,EAAE,MAAM,EACvB,OAAO,EACP,YAAY,EACZ,KAAK,EACL,KAAK,EACL,SAAS,EACT,WAAW,EACX,aAAa,EACb,cAAc,EACd,cAAc,EACd,IAAI,GAAG,OAAO,EACd,aAAa,EAAE,QAAQ,GAAG,KAAK,GAChC,EACD,GAAG,EACH,EAAE;IACF,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC;QACtE,OAAO,EAAE,aAAa;QACtB,cAAc;QACd,cAAc;QACd,MAAM;QACN,QAAQ;QAER,OAAO,EAAE,OAAO,IAAI,KAAK,IAAI,CAAC,CAAC,YAAY;KAC5C,CAAC,CAAC;IAEH,mBAAmB,CACjB,GAAG,EACH,GAAG,EAAE,CAAC,CAAC;QACL,IAAI;KACL,CAAC,EACF,CAAC,IAAI,CAAC,CACP,CAAC;IAEF,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,EAAE;QACzB,IAAI,CAAC,YAAY,EAAE;YACjB,OAAO,SAAS,CAAC;SAClB;QAED,OAAO;YAEL,eAAe,EAAE,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC;gBAC/C,CAAC,CAAC,OAAO,YAAY,GAAG;gBACxB,CAAC,CAAC,OAAO,YAAY,MAAM,WAAW,CAAC,GAAG,EAAE,GAAG;SAClD,CAAC;IACJ,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;IAEnB,IAAI,kBAAkB,GAAQ,IAAI,CAAC;IAEnC,IAAI,OAAO,EAAE;QACX,kBAAkB,GAAG,oBAAC,MAAM,IAAC,SAAS,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,SAAG,CAAC;KAClE;SAAM,IAAI,KAAK,EAAE;QAChB,kBAAkB,GAAG,oBAAC,kBAAkB,IAAC,SAAS,EAAE,MAAM,CAAC,WAAW,GAAI,CAAC;KAC5E;SAAM,IAAI,CAAC,YAAY,EAAE;QACxB,kBAAkB,GAAG,oBAAC,QAAQ,IAAC,SAAS,EAAE,MAAM,CAAC,WAAW,GAAI,CAAC;KAClE;IAED,OAAO,CACL,gCACO,YAAY,CAAC;YAChB,OAAO,EAAE,KAAK,IAAI,YAAY,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS;YAC1D,SAAS,EAAE,EAAE,CACX,MAAM,CAAC,UAAU,EACjB,SAAS,EACT,YAAY,IAAI,MAAM,CAAC,UAAU,EACjC,OAAO,IAAI,MAAM,CAAC,OAAO,EACzB,KAAK,IAAI,MAAM,CAAC,KAAK,EACrB,MAAM,CAAC,IAAI,CAAC,CACb;YACD,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK;SACnC,CAAS;QAEV,kCACM,aAAa,CAAC;gBAChB,QAAQ,EAAE,OAAO;aAClB,CAAC,gBACS,aAAa,GACxB;QACD,WAAW,IAAI,kBAAkB,CAC9B,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC,mBAAmB,CAAC,CAAC\"}","dts":{"name":"/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/build/common/FileUpload/FileUpload.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nimport { IFileUpload, IFileUploadHandle } from \"./types\";\r\nexport declare const MAX_FILE_SIZE = 10485760;\r\nexport declare const FileUploadComponent: React.ForwardRefRenderFunction<IFileUploadHandle, IFileUpload>;\r\ndeclare const _default: React.ForwardRefExoticComponent<IFileUpload & React.RefAttributes<IFileUploadHandle>>;\r\nexport default _default;\r\n"}}
