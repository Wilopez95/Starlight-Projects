{"code":"import React, { memo, useCallback, useEffect, useRef } from 'react';\r\nimport { noop } from 'lodash-es';\r\nconst events = ['mousedown', 'touchstart'];\r\nconst ClickOutHandler = ({ onClickOut, children, skipModal, className, skipNotification = true, subContainers = [], clickOutSelectors = [], }) => {\r\n    const wrapper = useRef(null);\r\n    const handleClick = useCallback((event) => {\r\n        if (!onClickOut || onClickOut === noop) {\r\n            return;\r\n        }\r\n        const eventElements = event.composedPath();\r\n        if (eventElements[0] === document.body.parentNode) {\r\n            return;\r\n        }\r\n        if (skipModal &&\r\n            eventElements.find(element => element.classList.contains('ReactModalPortal'))) {\r\n            return;\r\n        }\r\n        if (skipNotification &&\r\n            eventElements.find(element => {\r\n                if (element && element.classList) {\r\n                    return element.classList.contains('Toastify__toast');\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            })) {\r\n            return;\r\n        }\r\n        const containers = [wrapper];\r\n        if (Array.isArray(subContainers)) {\r\n            containers.push(...subContainers);\r\n        }\r\n        else {\r\n            containers.push(subContainers);\r\n        }\r\n        const isContainerIncludedInEventPath = containers.some(containerRef => {\r\n            const container = containerRef.current;\r\n            if (!container) {\r\n                return false;\r\n            }\r\n            if (eventElements.includes(container)) {\r\n                return true;\r\n            }\r\n            return container.contains(event.target);\r\n        });\r\n        if (isContainerIncludedInEventPath) {\r\n            return;\r\n        }\r\n        const isSelectorFind = clickOutSelectors.some(className => {\r\n            let find = false;\r\n            document.querySelectorAll(className).forEach(item => {\r\n                if (find) {\r\n                    return;\r\n                }\r\n                find = item.contains(event.target);\r\n            });\r\n            return find;\r\n        });\r\n        if (isSelectorFind) {\r\n            return;\r\n        }\r\n        onClickOut(event);\r\n    }, [clickOutSelectors, onClickOut, skipModal, skipNotification, subContainers]);\r\n    useEffect(() => {\r\n        events.forEach(e => document.addEventListener(e, handleClick));\r\n        return () => {\r\n            events.forEach(e => document.removeEventListener(e, handleClick));\r\n        };\r\n    }, [handleClick]);\r\n    return (React.createElement(\"div\", { ref: wrapper, className: className }, children));\r\n};\r\nexport default memo(ClickOutHandler);\r\n//# sourceMappingURL=ClickOutHandler.js.map","references":["/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/@types/react/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/@types/lodash-es/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/ClickOutHandler/types.ts"],"map":"{\"version\":3,\"file\":\"ClickOutHandler.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/common/ClickOutHandler/ClickOutHandler.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/build/common/ClickOutHandler/ClickOutHandler.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nimport { IClickOutHandler } from \"./types\";\r\ndeclare const _default: React.NamedExoticComponent<IClickOutHandler>;\r\nexport default _default;\r\n"}}
