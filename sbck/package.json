{
  "name": "starlight-billing-backend",
  "private": true,
  "version": "2.0.0",
  "description": "Starlight Billing service",
  "engines": {
    "node": ">=14.18.0"
  },
  "type": "module",
  "main": "server.js",
  "scripts": {
    "circular-to-jpg": "madge --circular . --image dependencies.jpg",
    "circular": "madge --circular .",
    "coverage": "rm -rf ./coverage && jest --runInBand --no-cache --verbose --testTimeout=10000 --detectOpenHandles --coverage || true",
    "db:init": "node scripts/initDb.js",
    "db:reset": "yarn migrate rollback && yarn migrate up && yarn seed run",
    "eslint": "eslint",
    "fix": "yarn prettier:fix",
    "generate-schema": "node ./scripts/generate-schema.js",
    "lint-staged": "lint-staged",
    "lint:fix": "eslint . --fix",
    "lint": "eslint .",
    "migrate": "node scripts/migrate.js",
    "mp": "node ./scripts/multiPlatform.js",
    "mq:reset": "node scripts/resetMq.js",
    "pm2:start": "pm2 start server.js --node-args=\"--skip-migration\" -f --name test-billing-server --wait-ready --listen-timeout 20000",
    "pm2:stop": "pm2 stop test-billing-server && pm2 delete test-billing-server",
    "posttest": "yarn pm2:stop && yarn db:reset && yarn mq:reset",
    "prepare": "husky install .husky && yarn mp chmod +x ./.husky/pre-commit",
    "pretest": "yarn db:reset && yarn mq:reset && yarn pm2:start",
    "prettier:fix": "prettier --ignore-unknown --write '**/*.js'",
    "prettier": "prettier --check '**/*.js'",
    "pretty-quick": "pretty-quick",
    "provision:e2e": "yarn mp chmod +x ./scripts/haulingBeE2EProvisioning.sh & ./scripts/haulingBeE2EProvisioning.sh",
    "provision:local": "yarn mp chmod +x ./scripts/haulingBeLocalDevProvisioning.sh & ./scripts/haulingBeLocalDevProvisioning.sh",
    "seed": "node scripts/seed.js",
    "snapshot": "node scripts/snapshot.js",
    "start:debug": "NODE_ENV=local node --inspect server.js",
    "start:dev": "nodemon server.js | pino-pretty",
    "start:skip": "node server.js --skip-migration --skip-mq-setup | pino-pretty",
    "start": "node server.js | pino-pretty",
    "test": "jest --runInBand --no-cache --verbose --testTimeout=10000 --detectOpenHandles || true",
    "upgrade": "ncu --loglevel verbose --packageFile package.json -u"
  },
  "dependencies": {
    "@koa/cors": "3.1.0",
    "@koa/router": "10.0.0",
    "@opensearch-project/opensearch": "1.0.0",
    "@sendgrid/mail": "7.4.2",
    "@sentry/integrations": "^7.41.0",
    "@sentry/node": "7.41.0",
    "@starlightpro/invoice-builder": "0.43.0",
    "@wry/context": "^0.7.0",
    "amqplib": "0.7.1",
    "apollo-server-koa": "2.21.0",
    "aws-sdk": "2.882.0",
    "axios": "0.21.1",
    "base64-stream": "1.0.0",
    "bcrypt": "5.0.1",
    "ci-info": "3.1.1",
    "data2xml": "1.3.4",
    "date-fns": "2.29.3",
    "date-fns-tz": "1.3.7",
    "dd-trace": "^2.4.2",
    "dotenv": "8.2.0",
    "dummy-json": "3.0.1",
    "exceljs": "4.2.1",
    "formidable": "1.2.2",
    "graphql": "15.5.0",
    "graphql-playground-middleware-koa": "1.6.21",
    "graphql-request": "3.4.0",
    "graphql-tag": "2.11.0",
    "graphql-tools": "7.0.4",
    "http-status": "1.5.0",
    "ioredis": "4.23.0",
    "joi": "17.4.0",
    "knex": "0.95.4",
    "koa": "2.13.1",
    "koa-basic-auth": "4.0.0",
    "koa-bodyparser": "4.3.0",
    "koa-compress": "5.0.1",
    "koa-helmet": "6.1.0",
    "lodash": "4.17.21",
    "minimatch": "3.0.4",
    "nanoid": "3.1.22",
    "node-cache": "5.1.2",
    "objection": "2.2.7",
    "paseto": "2.1.1",
    "pdf-lib": "1.15.0",
    "pg": "8.5.1",
    "pino": "8.11.0",
    "pino-datadog-transport": "1.3.0",
    "pino-pretty": "9.3.0",
    "puppeteer": "6.0.0",
    "react": "16.14.0",
    "react-dom": "16.14.0",
    "semver": "7.3.4",
    "soap": "0.36.0",
    "starkbank-ecdsa": "1.1.2",
    "uuid": "8.3.2",
    "xml2js": "0.4.23",
    "yazl": "2.5.1"
  },
  "devDependencies": {
    "@babel/core": "^7.13.15",
    "@babel/plugin-transform-modules-commonjs": "^7.13.8",
    "@babel/preset-env": "^7.13.15",
    "@starlightpro/eslint-config-starlight": "1.0.0",
    "babel-jest": "^26.6.3",
    "detective-cjs": "3.1.3",
    "eslint": "8.31.0",
    "husky": "8.0.3",
    "jest": "29.3.1",
    "lint-staged": "13.1.0",
    "madge": "^5.0.1",
    "ncu": "^0.2.1",
    "nodemon": "^2.0.7",
    "nyc": "^15.1.0",
    "pm2": "^4.5.6",
    "prettier": "2.8.4",
    "pretty-quick": "^3.1.3",
    "stat-mode": "^1.0.0",
    "supertest": "^6.1.3",
    "yargs": "17.2.1"
  },
  "resolutions": {
    "ws": "^7.4.6",
    "xmldom": "^0.5.0",
    "lodash": "^4.17.21",
    "underscore": "^1.12.1",
    "css-what": "^5.0.1"
  }
}
