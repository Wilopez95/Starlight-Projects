{"code":"import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { Container, TooltipLayout } from \"./styles\";\r\nexport const Tooltip = ({ children, text, wrapperClassName, fullWidth, border, normalizeTypography, borderColor, borderShade, inline, delay = 200, position = 'left', }) => {\r\n    const [active, setActive] = useState(false);\r\n    const toolTip = useRef(null);\r\n    const renderTimer = useRef(null);\r\n    const el = useRef(document.createElement('div'));\r\n    const wrapper = useRef(null);\r\n    const [hidden, setHidden] = useState(false);\r\n    const [pos, setPos] = useState({ x: 0, y: 0 });\r\n    const activeRef = React.useRef(active);\r\n    useEffect(() => {\r\n        return () => {\r\n            clearTimeout(renderTimer.current);\r\n        };\r\n    }, []);\r\n    const setActiveState = (value) => {\r\n        setActive(value);\r\n        activeRef.current = value;\r\n    };\r\n    const onRemove = useCallback(() => {\r\n        clearTimeout(renderTimer.current);\r\n        setActiveState(false);\r\n    }, []);\r\n    const onLeave = useCallback(() => {\r\n        if (activeRef.current) {\r\n            setHidden(true);\r\n            requestAnimationFrame(timestamp => {\r\n                if (timestamp > delay) {\r\n                    onRemove();\r\n                }\r\n            });\r\n        }\r\n    }, [delay, onRemove]);\r\n    useEffect(() => {\r\n        const mount = document.getElementById('portal-root');\r\n        const popup = el.current;\r\n        mount === null || mount === void 0 ? void 0 : mount.appendChild(popup);\r\n        window.addEventListener('scroll', onLeave);\r\n        return () => {\r\n            mount === null || mount === void 0 ? void 0 : mount.removeChild(popup);\r\n            window.removeEventListener('scroll', onLeave);\r\n        };\r\n    }, [onLeave]);\r\n    const setPosition = useCallback((rect) => {\r\n        var _a;\r\n        const tooltipRect = (_a = toolTip.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\r\n        const arrow = 5;\r\n        setPos(() => {\r\n            var _a, _b, _c, _d, _e, _f;\r\n            let newPos = undefined;\r\n            const coordinates = {\r\n                left: {\r\n                    x: rect.left - (((_a = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.width) !== null && _a !== void 0 ? _a : 0) + arrow),\r\n                    y: rect.top + rect.height / 2 - ((_b = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.height) !== null && _b !== void 0 ? _b : 0) / 2,\r\n                },\r\n                right: {\r\n                    x: rect.left + (rect.width + arrow),\r\n                    y: rect.top + rect.height / 2 - ((_c = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.height) !== null && _c !== void 0 ? _c : 0) / 2,\r\n                },\r\n                top: {\r\n                    x: rect.left + rect.width / 2 - ((_d = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.width) !== null && _d !== void 0 ? _d : 0) / 2,\r\n                    y: rect.top - arrow - ((_e = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.height) !== null && _e !== void 0 ? _e : 0),\r\n                },\r\n                bottom: {\r\n                    x: rect.left + rect.width / 2 - ((_f = tooltipRect === null || tooltipRect === void 0 ? void 0 : tooltipRect.width) !== null && _f !== void 0 ? _f : 0) / 2,\r\n                    y: rect.top + rect.height + arrow,\r\n                },\r\n            };\r\n            newPos = coordinates[position];\r\n            if (!newPos) {\r\n                console.error('strange position');\r\n                return { x: 0, y: 0 };\r\n            }\r\n            else {\r\n                if (newPos.x < arrow) {\r\n                    newPos.x = arrow;\r\n                }\r\n                if (newPos.y < arrow) {\r\n                    newPos.y = arrow;\r\n                }\r\n            }\r\n            return {\r\n                x: newPos.x + window.scrollX,\r\n                y: newPos.y + window.scrollY,\r\n            };\r\n        });\r\n        setHidden(false);\r\n    }, [position]);\r\n    const onHover = useCallback((e) => {\r\n        if (!active) {\r\n            const rect = e.currentTarget.getBoundingClientRect();\r\n            setActiveState(true);\r\n            setHidden(true);\r\n            renderTimer.current = setTimeout(() => setPosition(rect), 16);\r\n        }\r\n    }, [active, setPosition]);\r\n    return (React.createElement(Container, { tabIndex: 0, fullWidth: fullWidth, onMouseEnter: onHover, onFocus: onHover, onMouseLeave: onLeave, onBlur: onLeave, className: wrapperClassName, ref: wrapper, \"$border\": border, borderColor: borderColor, borderShade: borderShade, normalizeTypography: normalizeTypography, inline: inline },\r\n        React.createElement(React.Fragment, null,\r\n            children,\r\n            active && text && el\r\n                ? createPortal(React.createElement(TooltipLayout, { role: \"tooltip\", ref: toolTip, position: position, hidden: hidden, posX: `${pos.x}px`, posY: `${pos.y}px` }, text), el.current)\r\n                : null)));\r\n};\r\n//# sourceMappingURL=Tooltip.js.map","references":["/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/@types/react/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/node_modules/@types/react-dom/index.d.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/Tooltip/styles.ts","/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/src/common/Tooltip/types.ts"],"map":"{\"version\":3,\"file\":\"Tooltip.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/common/Tooltip/Tooltip.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/wilson/Documents/Starlight/starlight-shared-libs/packages/shared-components/build/common/Tooltip/Tooltip.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nimport type { ITooltip } from \"./types\";\r\nexport declare const Tooltip: React.FC<ITooltip>;\r\n"}}
