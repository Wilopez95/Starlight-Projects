{"version":3,"file":"ordersToInvoiceProcesor.js","sourceRoot":"","sources":["../../../../src/services/billingProcessor/ordersToInvoiceProcesor.ts"],"names":[],"mappings":"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"}